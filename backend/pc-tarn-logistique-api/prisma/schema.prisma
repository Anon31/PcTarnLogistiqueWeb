generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
}

enum Role {
  ADMIN
  MANAGER
  BENEVOLE
}

enum ItemCategory {
  BILAN
  TRAUMA
  PLAIE
  HYGIENE
  MALAISE
  OXY
  KITS
  FORMATION
  LOGISTIQUE
}

enum Condition {
  BON
  MOYEN
  A_CHANGER
  HS
}

enum VehicleStatus {
  OPERATIONAL
  WARNING
  NON_COMPLIANT
}

enum LotStatus {
  DISPONIBLE
  NON_OPERATIONNEL
}

enum CheckType {
  DEPARTURE
  RETURN
  PERIODIC
}

enum ReportStatus {
  NEW
  IN_PROGRESS
  RESOLVED
}

enum ReportUrgency {
  LOW
  MEDIUM
  CRITICAL
}

model User {
  id        Int       @id @default(autoincrement())
  firstname String
  lastname  String
  email     String    @unique
  password  String
  phone     String?
  birthdate DateTime?
  enabled   Boolean   @default(false)
  role      Role      @default(BENEVOLE)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  address   Address?
}

model Address {
  id      Int    @id @default(autoincrement())
  number  Int
  street  String
  city    String
  zipcode String
  state   String
  userId  Int    @unique
  user    User   @relation(fields: [userId], references: [id], onDelete: Cascade)
}