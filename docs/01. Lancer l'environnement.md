ğŸ³ Guide de Lancement du Projet avec Docker

Cette procÃ©dure permet Ã  tout dÃ©veloppeur de lancer l'environnement complet (Backend NestJS, Frontend Angular, Base de donnÃ©es PostgreSQL, PgAdmin) en quelques minutes.

ğŸ“‚ Structure du projet

Pour comprendre oÃ¹ lancer les commandes, voici la structure de rÃ©fÃ©rence :

pc-tarn-logistique ğŸš© RACINE DU PROJET (LÃ  oÃ¹ se trouve docker-compose.yml)

â”œâ”€â”€ .env

â”œâ”€â”€ docker-compose.yml

â”œâ”€â”€ backend/

â”‚   â””â”€â”€ pc-tarn-logistique-api/  ğŸ”Œ DOSSIER BACKEND

â”œâ”€â”€ frontend/

â”‚   â””â”€â”€ pc-tarn-logistique-web/ ğŸ’» DOSSIER FRONTEND


ğŸš€ ProcÃ©dure de Lancement (De A Ã  Z)

1. RÃ©cupÃ©rer le projet

Ouvrez votre terminal (PowerShell, CMD, ou Terminal).

ğŸ“ Lieu d'exÃ©cution : Le dossier parent oÃ¹ vous voulez ranger le projet.
Exemple : D:\Workspace\.FIL ROUGE

git clone <URL_DU_DEPOT_GIT>
cd pc-tarn-logistique


2. Configurer les variables d'environnement

ğŸ“ Lieu d'exÃ©cution : ğŸš© RACINE DU PROJET (pc-tarn-logistique)

cp .env.example .env


(Ou copiez-collez le fichier manuellement dans l'explorateur Windows)

âš ï¸ Important : Ne modifiez pas les valeurs par dÃ©faut pour le dÃ©veloppement local.

3. Lancer l'environnement (La "Commande Magique")

C'est la commande principale qui lance tout.

ğŸ“ Lieu d'exÃ©cution : ğŸš© RACINE DU PROJET (pc-tarn-logistique)

docker-compose up --build


Attendez que tous les services soient dÃ©marrÃ©s (logs verts qui dÃ©filent).

4. Initialiser la Base de DonnÃ©es (PremiÃ¨re fois uniquement)

Ouvrez un deuxiÃ¨me terminal pour ne pas couper les logs du premier.

ğŸ“ Lieu d'exÃ©cution : ğŸš© RACINE DU PROJET (pc-tarn-logistique)

docker-compose exec api npx prisma migrate dev --name init


Si vous voyez "Your database is now in sync with your schema", c'est gagnÃ© !

ğŸ› ï¸ Travailler au quotidien (DÃ©veloppement)

Cas 1 : Lancer le projet le matin

ğŸ“ Lieu : ğŸš© RACINE (pc-tarn-logistique)

docker-compose up --build


Cas 2 : Installer une librairie pour le BACKEND (NestJS)

Si vous devez faire un npm install (ex: pour moment ou lodash).

ArrÃªtez Docker (Ctrl+C).

Allez dans le dossier du backend :
ğŸ“ Lieu : ğŸ”Œ DOSSIER BACKEND
Chemin relatif : backend/pc-tarn-logistique-api

cd backend/pc-tarn-logistique-api
npm install nom_de_la_librairie


Revenez Ã  la racine : cd ../..

Relancez tout : docker-compose up --build

Cas 3 : Installer une librairie pour le FRONTEND (Angular)

MÃªme logique, mais dans le dossier frontend.

ArrÃªtez Docker.

Allez dans le dossier du frontend :
ğŸ“ Lieu : ğŸ’» DOSSIER FRONTEND
Chemin relatif : frontend/pc-tarn-logistique-web

cd frontend/pc-tarn-logistique-web
npm install nom_de_la_librairie


Revenez Ã  la racine : cd ../..

Relancez tout : docker-compose up --build

Cas 4 : GÃ©nÃ©rer un composant Angular (CLI)

Vous pouvez utiliser le CLI Angular localement pendant que Docker tourne.

Ouvrez un nouveau terminal.

Allez dans le dossier frontend :
ğŸ“ Lieu : ğŸ’» DOSSIER FRONTEND
Chemin relatif : frontend/pc-tarn-logistique-web

cd frontend/pc-tarn-logistique-web
ng generate component components/mon-nouveau-composant


Docker dÃ©tectera automatiquement les nouveaux fichiers.

ğŸŒ AccÃ¨s aux Applications

Application

URL

Frontend

http://localhost:4200

Backend

http://localhost:3000

PgAdmin

http://localhost:5050

â“ Erreurs FrÃ©quentes

"no configuration file provided: not found" : Vous n'Ãªtes pas Ã  la racine ! VÃ©rifiez que vous Ãªtes bien dans le dossier pc-tarn-logistique qui contient docker-compose.yml.

"EBUSY: resource busy" : Un dossier est verrouillÃ© par Windows. ArrÃªtez Docker, supprimez le dossier dist manuellement dans le dossier API, et relancez.